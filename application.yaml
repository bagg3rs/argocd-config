apiVersion: argoproj.io/v1alpha1
kind: ApplicationSet
metadata:
      name: myapp-argo-application
      namespace: argocd
spec:
      project: default
      source:
          repoURL: https://github.com/bagg3rs/argocd-config.git
          targetRevision: HEAD
          path: dev
      destination:
          server: https://kubernetes.default.svc
          namespace: myapp
      
      syncPolicy:
          syncOptions:
          - CreateNamespace=true

          automated:
              selfHeal: true
              prune: true

